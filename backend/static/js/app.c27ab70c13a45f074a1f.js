webpackJsonp([1],{NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("Tqaz"),o=(r("sWs5"),r("7+uW")),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=r("VU/8")({name:"App"},a,!1,function(t){r("nF9L")},null,null).exports,s=r("/ocq"),u=r("mtWM"),l=r.n(u),c={data:function(){return{user:{id:0,token:null,username:"Pene",money_available:69,type:0},form:{name:"",surname:"",mail:"",usernameR:"",passwordR:"",dni:"",licence_caducity:"01-01-2999",credit_card:"999999999",type:1},bike:{model:"",active:!1,charge:"",latitude:"",longitude:"",plate:""},supportLogged:!0,bikes:[{model:"Vespa",active:!1,charge:90,latitude:909.87,longitude:789.09,plate:"Ola Soy una PlaTe"}],navigation:!1,active:!1,addEmpl:!1,bikeAdding:!1}},methods:{getBikes:function(){var t=this;l.a.get("https://bike-a-rent.herokuapp.com/bikes").then(function(e){t.bikes=[],t.bikes=e.data.bikes}).catch(function(t){console.error(t)})},getAccount:function(){var t=this,e="https://bike-a-rent.herokuapp.com/account/"+this.user.id;l.a.get(e,{auth:{username:this.user.token}}).then(function(e){t.user=e.data.user}).catch(function(t){console.error(t)})},submitEmployee:function(){var t={name:this.form.name,surname:this.form.surname,mail:this.form.mail,usernameR:this.form.usernameR,passwordR:this.form.passwordR,dni:this.form.dni,licence_caducity:this.form.licence_caducity,credit_card:this.form.credit_card,type:this.form.type};l.a.post("https://bike-a-rent.herokuapp.com/account",t).then(function(t){alert("New employee added!")}).catch(function(t){console.error(t),alert("Could not create the account!"),alert(t)})},takeBike:function(t){this.bike=t,this.navigation=!0},unlockBike:function(){var t=this,e={user_id:this.user.id,bike_id:this.bike.id};l.a.post("https://bike-a-rent.herokuapp.com/rent",e).then(function(e){t.active=!0}).catch(function(t){console.error(t),alert("Sorry, you cannot take this bike. Try again")})},lockBike:function(){var t=this,e={user_id:this.user.id,bike_id:this.bike.id};l.a.put("https://bike-a-rent.herokuapp.com/rent",e).then(function(e){t.active=!1,t.navigation=!1,t.getAccount()}).catch(function(t){console.error(t),alert("Sorry, you cannot take this bike. Try again")})},addBike:function(){var t=this,e={model:this.bike.model,active:!0,charge:this.bike.charge,latitude:this.bike.latitude,longitude:this.bike.longitude};l.a.post("https://bike-a-rent.herokuapp.com/bike",e,{auth:{username:this.user.token}}).then(function(e){t.user=e.data.user}).catch(function(t){console.error(t)})},showInfo:function(t){this.bike=t,this.bike.$bvModal.show("info-modal")}},created:function(){this.getBikes(),this.getAccount(),this.user.username=this.$route.query.username,this.user.money_available=this.$route.query.token,this.user.token=this.$route.query.token,this.user.type=this.$route.query.type}},d={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[!t.navigation&!t.bikeAdding&!t.addEmpl?r("div",[r("nav",{staticClass:"navbar navbar-dark"},[r("h2",{staticStyle:{color:"#d3d9df"}},[t._v("BaikaRent")]),t._v(" "),r("div",[r("h6",{staticStyle:{color:"#d3d9df"}},[t._v(t._s(this.user.username))]),t._v(" "),r("h6",{staticStyle:{color:"#d3d9df"}},[t._v(t._s(this.user.money_available)+" â‚¬")])])]),t._v(" "),(t.user.type=1)?r("div",[r("button",{staticClass:"btn btn-warning",staticStyle:{position:"absolute",right:"0%"},on:{click:function(e){t.bikeAdding=!0}}},[t._v("Add Bike")])]):t._e(),t._v(" "),(t.user.type=3)?r("div",[r("button",{staticClass:"btn btn-warning",staticStyle:{position:"absolute",right:"10%"},attrs:{type:"button"},on:{click:function(e){t.addEmpl=!0}}},[t._v("Add Employee")])]):t._e(),t._v(" "),r("table",[t._m(0),t._v(" "),t._l(t.bikes,function(e){return r("tbody",{key:e.id},[r("td",[t._v(t._s(e.model)+" ")]),t._v(" "),r("td",[t._v(t._s(e.street)+" ")]),t._v(" "),r("button",{staticClass:"btn btn-primary",on:{click:function(r){return t.showInfo(e)}}},[t._v("Info Bike")]),t._v(" "),r("button",{staticClass:"btn btn-warning",on:{click:function(r){return t.takeBike(e)}}},[t._v("Take Bike")])])})],2)]):t._e(),t._v(" "),t.navigation?r("div",[r("h3",[t._v("Go to "+t._s(this.bike.street)+" to unlock your bike.")]),t._v(" "),r("div",[t._v(" Once you ara next to the bike, press the Unlock button to start the renting")]),t._v(" "),r("br"),t._v(" "),r("button",{staticClass:"btn btn-outline-danger",on:{click:t.unlockBike}},[t._v("Unlock Bike")])]):t._e(),t._v(" "),t.active?r("div",[r("h1",[t._v("Time is running!!")]),t._v(" "),r("div",[t._v(" Once you have stoped the bike, press the Lock button to end the renting")]),t._v(" "),r("button",{staticClass:"btn btn-danger",on:{click:t.lockBike}},[t._v("Lock ")])]):t._e(),t._v(" "),r("div",[r("b-modal",{attrs:{id:"info-modal","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[r("h4",{staticStyle:{"text-align":"center"}},[t._v("Info")])]},proxy:!0}])},[t._v(" "),r("div",{staticClass:"d-block"},[r("br"),t._v(" "),r("h5",[t._v("ID: "+t._s(t.bike.id))]),t._v(" "),r("h5",[t._v("Model: "+t._s(t.bike.model))]),t._v(" "),r("hr"),t._v(" "),r("h5",{staticClass:"mt-2"},[t._v("Charge: "+t._s(t.bike.charge))]),t._v(" "),r("h5",[t._v("Location: "+t._s(t.bike.latitude,t.bike.longitude))])])])],1),t._v(" "),t.addEmpl?r("div",[r("h3",[t._v(" Add a new employee")]),t._v(" "),r("b-card",{staticStyle:{width:"250px",margin:"auto"}},[r("button",{staticClass:"btn btn-outline-dark btn-sm",staticStyle:{"margin-block-end":"10px",position:"absolute",top:"0",right:"0"},on:{click:function(e){t.addEmpl=!1}}},[t._v("Close")]),t._v(" "),r("b-form-group",{attrs:{id:"input-group-20",label:"Name:","label-for":"input-20"}},[r("b-form-input",{attrs:{id:"input-20",required:"",placeholder:"Enter employee's name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-21",label:"Surame:","label-for":"input-21"}},[r("b-form-input",{attrs:{id:"input-21",required:"",placeholder:"Enter employee's surname"},model:{value:t.form.surname,callback:function(e){t.$set(t.form,"surname",e)},expression:"form.surname"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-22",label:"Mail:","label-for":"input-22"}},[r("b-form-input",{attrs:{id:"input-22",required:"",placeholder:"Enter the mail"},model:{value:t.form.mail,callback:function(e){t.$set(t.form,"mail",e)},expression:"form.mail"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-23",label:"Username:","label-for":"input-23"}},[r("b-form-input",{attrs:{id:"input-23",required:"",placeholder:"Enter the username"},model:{value:t.form.usernameR,callback:function(e){t.$set(t.form,"usernameR",e)},expression:"form.usernameR"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-24",label:"Password:","label-for":"input-24"}},[r("b-form-input",{attrs:{id:"input-24",required:"",placeholder:"Enter the password"},model:{value:t.form.passwordR,callback:function(e){t.$set(t.form,"passwordR",e)},expression:"form.passwordR"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-25",label:"DNI:","label-for":"input-25"}},[r("b-form-input",{attrs:{id:"input-25",required:"",placeholder:"Enter employee's DNI"},model:{value:t.form.dni,callback:function(e){t.$set(t.form,"dni",e)},expression:"form.dni"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-26",label:"TYPE(1 = Suport 2=Technical):","label-for":"input-26"}},[r("b-form-input",{attrs:{id:"input-25",required:"",placeholder:"Enter employee's Type"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),t._v(" "),r("button",{staticClass:"btn btn-danger",on:{click:function(e){t.submitEmployee,t.addEmpl=!1}}},[t._v("Add employee")])],1)],1):t._e(),t._v(" "),t.bikeAdding?r("div",[r("h3",[t._v(" Add a bike in the system")]),t._v(" "),r("b-card",{staticStyle:{width:"250px",margin:"auto"}},[r("button",{staticClass:"btn btn-outline-dark btn-sm",staticStyle:{"margin-block-end":"10px",position:"absolute",top:"0",right:"0"},on:{click:function(e){t.bikeAdding=!1}}},[t._v("Close")]),t._v(" "),r("b-form-group",{attrs:{id:"input-group-3",label:"Model:","label-for":"input-1"}},[r("b-form-input",{attrs:{id:"input-1",required:"",placeholder:"Enter the bike model"},model:{value:t.bike.model,callback:function(e){t.$set(t.bike,"model",e)},expression:"bike.model"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-4",label:"Charge:","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"input-2",required:"",placeholder:"Enter the bike charge"},model:{value:t.bike.charge,callback:function(e){t.$set(t.bike,"charge",e)},expression:"bike.charge"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-5",label:"Latitude:","label-for":"input-3"}},[r("b-form-input",{attrs:{id:"input-3",required:"",placeholder:"Enter the bike latitude"},model:{value:t.bike.latitude,callback:function(e){t.$set(t.bike,"latitude",e)},expression:"bike.latitude"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-6",label:"Longitude:","label-for":"input-4"}},[r("b-form-input",{attrs:{id:"input-4",required:"",placeholder:"Enter the bike longitude"},model:{value:t.bike.longitude,callback:function(e){t.$set(t.bike,"longitude",e)},expression:"bike.longitude"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-7",label:"Plate:","label-for":"input-5"}},[r("b-form-input",{attrs:{id:"input-5",required:"",placeholder:"Enter the bike plate"},model:{value:t.bike.plate,callback:function(e){t.$set(t.bike,"plate",e)},expression:"bike.plate"}})],1),t._v(" "),r("button",{staticClass:"btn btn-danger",on:{click:function(e){t.addBike,t.bikeAdding=!1}}},[t._v("Add this bike")])],1)],1):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",{staticStyle:{"border-bottom":"5px solid #000"}},[e("tr",[e("th",[this._v("Bike model")]),this._v(" "),e("th",[this._v("Localated")])])])}]};var m=r("VU/8")(c,d,!1,function(t){r("g8jg")},null,null).exports,p={name:"Login",data:function(){return{user:{id:0,token:null,username:"",type:0,money_available:0},form:{name:"",surname:"",mail:"",usernameR:"",passwordR:"",dni:"",licence_caducity:"",credit_card:"",type:0}}},methods:{clearLogin:function(){this.username="",this.password="",this.form.name="",this.form.surname="",this.form.mail="",this.form.usernameR="",this.form.passwordR="",this.form.dni="",this.form.dni_caducity="",this.form.credit_card="",this.$bvModal.show("bv-modal")},checkLogin:function(){var t=this,e={username:this.username,password:this.password};if(""===e.username||""===e.password)alert("Empty fields! Please try again.");else{l.a.post("https://bike-a-rent.herokuapp.com/login",e).then(function(e){t.user=e.data.user,t.getAccount(),alert("Log In Succesfully"),t.$router.replace({path:"/home",query:{username:t.user.username,money:t.user.money_available,token:t.user.token,type:t.user.type}})}).catch(function(t){console.error(t),alert("Username or Password incorrect")})}},getAccount:function(){var t=this,e="https://bike-a-rent.herokuapp.com/account"+this.user.id;l.a.get(e,{auth:{username:this.user.token}}).then(function(e){t.user=e.data.user}).catch(function(t){console.error(t)})},onSubmit:function(){this.$bvModal.hide("bv-modal");var t={name:this.form.name,surname:this.form.surname,mail:this.form.mail,usernameR:this.form.usernameR,passwordR:this.form.passwordR,dni:this.form.dni,licence_caducity:this.form.licence_caducity,credit_card:this.form.credit_card,type:this.form.type};l.a.post("https://bike-a-rent.herokuapp.com/account",t).then(function(t){alert("Sign Up Successful! New account created!")}).catch(function(t){console.error(t),alert("Could not create the account!"),alert(t)})},onReset:function(){this.form.name="",this.form.surname="",this.form.mail="",this.form.usernameR="",this.form.passwordR="",this.form.dni="",this.form.licence_caducity="",this.form.credit_card=""}}},b={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"container",staticStyle:{"margin-bottom":"3%"}},[r("h1",{staticStyle:{"margin-bottom":"2%","font-weight":"bold"}},[t._v("Sign In")]),t._v(" "),r("div",{staticClass:"form-label-group1"},[t._m(0),t._v(" "),r("div",{staticClass:"row2"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"username",id:"inputUsername",placeholder:"Username",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"form-label-group1"},[t._m(1),t._v(" "),r("div",{staticClass:"row2"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",staticStyle:{"margin-bottom":"5%"},attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"form-label-group1"},[r("div",{staticClass:"row2"},[r("button",{staticClass:"btn btn-primary btn-lg btn-block",staticStyle:{float:"right"},attrs:{type:"button"},on:{click:t.checkLogin}},[t._v("Sign In")]),t._v(" "),r("button",{staticClass:"btn btn-success btn-lg btn-block",staticStyle:{float:"right"},attrs:{type:"button"},on:{click:t.clearLogin}},[t._v("Create Account")])])]),t._v(" "),r("div",[r("b-modal",{attrs:{id:"bv-modal","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[r("h4",{staticStyle:{"text-align":"center"}},[t._v("Create Account")])]},proxy:!0}])},[t._v(" "),r("div",{staticClass:"d-block"},[r("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[r("b-form-group",{attrs:{id:"input-group-3",label:"Name:","label-for":"input-1"}},[r("b-form-input",{attrs:{id:"input-1",required:"",placeholder:"Enter your name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-4",label:"Surame:","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"input-2",required:"",placeholder:"Enter your surname"},model:{value:t.form.surname,callback:function(e){t.$set(t.form,"surname",e)},expression:"form.surname"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-5",label:"Mail:","label-for":"input-3"}},[r("b-form-input",{attrs:{id:"input-3",required:"",placeholder:"Enter your mail"},model:{value:t.form.mail,callback:function(e){t.$set(t.form,"mail",e)},expression:"form.mail"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-6",label:"Username:","label-for":"input-4"}},[r("b-form-input",{attrs:{id:"input-4",required:"",placeholder:"Enter your username"},model:{value:t.form.usernameR,callback:function(e){t.$set(t.form,"usernameR",e)},expression:"form.usernameR"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-7",label:"Password:","label-for":"input-5"}},[r("b-form-input",{attrs:{id:"input-5",required:"",placeholder:"Enter your username"},model:{value:t.form.passwordR,callback:function(e){t.$set(t.form,"passwordR",e)},expression:"form.passwordR"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-8",label:"DNI:","label-for":"input-6"}},[r("b-form-input",{attrs:{id:"input-6",required:"",placeholder:"Enter your DNI"},model:{value:t.form.dni,callback:function(e){t.$set(t.form,"dni",e)},expression:"form.dni"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-9",label:"DNI caducity:","label-for":"input-7"}},[r("b-form-input",{attrs:{id:"input-7",required:"",placeholder:"Enter your Caducity DNI date"},model:{value:t.form.dni_caducity,callback:function(e){t.$set(t.form,"dni_caducity",e)},expression:"form.dni_caducity"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-10",label:"Credit Card:","label-for":"input-8"}},[r("b-form-input",{attrs:{id:"input-8",required:"",placeholder:"Enter your credit card number"},model:{value:t.form.credit_card,callback:function(e){t.$set(t.form,"credit_card",e)},expression:"form.credit_card"}})],1),t._v(" "),r("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),t._v(" "),r("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1)])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row1"},[e("label",{staticStyle:{"font-weight":"bold"},attrs:{for:"inputUsername"}},[this._v("Username")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row1"},[e("label",{staticStyle:{"font-weight":"bold"},attrs:{for:"inputPassword"}},[this._v("Password")])])}]};var f=r("VU/8")(p,b,!1,function(t){r("sDPT")},null,null).exports;r("K3J8");o.default.use(s.a);var h=new s.a({mode:"history",base:Object({NODE_ENV:"production"}).BASE_URL,routes:[{path:"/",name:"Login",component:f},{path:"/home",name:"LlistatMotos",component:m}]});o.default.use(i.a),o.default.config.productionTip=!1,new o.default({router:h,render:function(t){return t(n)}}).$mount("#app")},g8jg:function(t,e){},nF9L:function(t,e){},sDPT:function(t,e){},sWs5:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c27ab70c13a45f074a1f.js.map