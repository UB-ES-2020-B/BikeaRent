webpackJsonp([1],{NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Tqaz"),o=(i("sWs5"),i("7+uW")),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=i("VU/8")({name:"App"},a,!1,function(t){i("nF9L")},null,null).exports,s=i("/ocq"),u=i("mtWM"),l=i.n(u),c={data:function(){return{user:{id:0,token:null,username:"Pene",money_available:69,type:0},bike:{model:"",active:!1,charge:"",latitude:"",longitude:"",plate:""},supportLogged:!0,bikes:[{model:"Vespa",active:!1,charge:90,latitude:909.87,longitude:789.09,plate:"Ola Soy una PlaTe"}],navigation:!1,active:!1,bikeAdding:!1}},methods:{getBikes:function(){var t=this;l.a.get("https://bike-a-rent.herokuapp.com/bikes").then(function(e){t.bikes=[],t.bikes=e.data.bikes}).catch(function(t){console.error(t)})},getAccount:function(){var t=this,e="https://bike-a-rent.herokuapp.com/account/"+this.user.id;l.a.get(e,{auth:{username:this.user.token}}).then(function(e){t.user=e.data.user}).catch(function(t){console.error(t)})},takeBike:function(t){this.bike=t,this.navigation=!0},unlockBike:function(){var t=this,e={user_id:this.user.id,bike_id:this.bike.id};l.a.post("https://bike-a-rent.herokuapp.com/rent",e).then(function(e){t.active=!0}).catch(function(t){console.error(t),alert("Sorry, you cannot take this bike. Try again")})},lockBike:function(){var t=this,e={user_id:this.user.id,bike_id:this.bike.id};l.a.put("https://bike-a-rent.herokuapp.com/rent",e).then(function(e){t.active=!1,t.navigation=!1,t.getAccount()}).catch(function(t){console.error(t),alert("Sorry, you cannot take this bike. Try again")})},addBike:function(){var t=this,e={model:this.bike.model,active:!0,charge:this.bike.charge,latitude:this.bike.latitude,longitude:this.bike.longitude};l.a.post("https://bike-a-rent.herokuapp.com/bike",e,{auth:{username:this.user.token}}).then(function(e){t.user=e.data.user}).catch(function(t){console.error(t)})},showInfo:function(t){this.bike=t,this.bike.$bvModal.show("info-modal")}},created:function(){this.getBikes(),this.getAccount(),this.user.username=this.$route.query.username,this.user.money_available=this.$route.query.token,this.user.token=this.$route.query.token,this.user.type=this.$route.query.type}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[!t.navigation&!t.bikeAdding?i("div",[i("nav",{staticClass:"navbar navbar-dark"},[i("h2",{staticStyle:{color:"#d3d9df"}},[t._v("BaikaRent")]),t._v(" "),i("div",[i("h6",{staticStyle:{color:"#d3d9df"}},[t._v(t._s(this.user.username))]),t._v(" "),i("h6",{staticStyle:{color:"#d3d9df"}},[t._v(t._s(this.user.money_available)+" â‚¬")])])]),t._v(" "),(t.user.type=1)?i("div",[i("button",{staticClass:"btn btn-warning",staticStyle:{position:"absolute",right:"0%"},on:{click:function(e){t.bikeAdding=!0}}},[t._v("Add Bike")])]):t._e(),t._v(" "),(t.user.type=0)?i("div",[i("button",{staticClass:"btn btn-warning",staticStyle:{position:"absolute",right:"20%"},on:{click:function(e){t.employeeAdding=!0}}},[t._v("Add Employee")])]):t._e(),t._v(" "),i("table",[t._m(0),t._v(" "),t._l(t.bikes,function(e){return i("tbody",{key:e.id},[i("td",[t._v(t._s(e.model)+" ")]),t._v(" "),i("td",[t._v(t._s(e.street)+" ")]),t._v(" "),i("button",{staticClass:"btn btn-primary",on:{click:function(i){return t.showInfo(e)}}},[t._v("Info Bike")]),t._v(" "),i("button",{staticClass:"btn btn-warning",on:{click:function(i){return t.takeBike(e)}}},[t._v("Take Bike")])])})],2)]):t._e(),t._v(" "),t.navigation?i("div",[i("h3",[t._v("Go to "+t._s(this.bike.street)+" to unlock your bike.")]),t._v(" "),i("div",[t._v(" Once you ara next to the bike, press the Unlock button to start the renting")]),t._v(" "),i("br"),t._v(" "),i("button",{staticClass:"btn btn-outline-danger",on:{click:t.unlockBike}},[t._v("Unlock Bike")])]):t._e(),t._v(" "),t.active?i("div",[i("h1",[t._v("Time is running!!")]),t._v(" "),i("div",[t._v(" Once you have stoped the bike, press the Lock button to end the renting")]),t._v(" "),i("button",{staticClass:"btn btn-danger",on:{click:t.lockBike}},[t._v("Lock ")])]):t._e(),t._v(" "),i("div",[i("b-modal",{attrs:{id:"info-modal","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[i("h4",{staticStyle:{"text-align":"center"}},[t._v("Info")])]},proxy:!0}])},[t._v(" "),i("div",{staticClass:"d-block"},[i("br"),t._v(" "),i("h5",[t._v("ID: "+t._s(t.bike.id))]),t._v(" "),i("h5",[t._v("Model: "+t._s(t.bike.model))]),t._v(" "),i("hr"),t._v(" "),i("h5",{staticClass:"mt-2"},[t._v("Charge: "+t._s(t.bike.charge))]),t._v(" "),i("h5",[t._v("Location: "+t._s(t.bike.latitude,t.bike.longitude))])])])],1),t._v(" "),t.bikeAdding?i("div",[i("h3",[t._v(" Add a bike in the system")]),t._v(" "),i("b-card",{staticStyle:{width:"250px",margin:"auto"}},[i("button",{staticClass:"btn btn-outline-dark btn-sm",staticStyle:{"margin-block-end":"10px",position:"absolute",top:"0",right:"0"},on:{click:function(e){t.bikeAdding=!1}}},[t._v("Close")]),t._v(" "),i("b-form-group",{attrs:{id:"input-group-3",label:"Model:","label-for":"input-1"}},[i("b-form-input",{attrs:{id:"input-1",required:"",placeholder:"Enter the bike model"},model:{value:t.bike.model,callback:function(e){t.$set(t.bike,"model",e)},expression:"bike.model"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-4",label:"Charge:","label-for":"input-2"}},[i("b-form-input",{attrs:{id:"input-2",required:"",placeholder:"Enter the bike charge"},model:{value:t.bike.charge,callback:function(e){t.$set(t.bike,"charge",e)},expression:"bike.charge"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-5",label:"Latitude:","label-for":"input-3"}},[i("b-form-input",{attrs:{id:"input-3",required:"",placeholder:"Enter the bike latitude"},model:{value:t.bike.latitude,callback:function(e){t.$set(t.bike,"latitude",e)},expression:"bike.latitude"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-6",label:"Longitude:","label-for":"input-4"}},[i("b-form-input",{attrs:{id:"input-4",required:"",placeholder:"Enter the bike longitude"},model:{value:t.bike.longitude,callback:function(e){t.$set(t.bike,"longitude",e)},expression:"bike.longitude"}})],1),t._v(" "),i("b-form-group",{attrs:{id:"input-group-7",label:"Plate:","label-for":"input-5"}},[i("b-form-input",{attrs:{id:"input-5",required:"",placeholder:"Enter the bike plate"},model:{value:t.bike.plate,callback:function(e){t.$set(t.bike,"plate",e)},expression:"bike.plate"}})],1),t._v(" "),i("button",{staticClass:"btn btn-danger",on:{click:function(e){t.addBike,t.bikeAdding=!1}}},[t._v("Add this bike")])],1)],1):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",{staticStyle:{"border-bottom":"5px solid #000"}},[e("tr",[e("th",[this._v("Bike model")]),this._v(" "),e("th",[this._v("Localated")])])])}]};var b=i("VU/8")(c,d,!1,function(t){i("g+u7")},null,null).exports;i("K3J8");o.default.use(s.a);var k=new s.a({mode:"history",base:Object({NODE_ENV:"production"}).BASE_URL,routes:[{path:"/",name:"LlistatMotos",component:b},{path:"/home",name:"LlistatMotos",component:b}]});o.default.use(n.a),o.default.config.productionTip=!1,new o.default({router:k,render:function(t){return t(r)}}).$mount("#app")},"g+u7":function(t,e){},nF9L:function(t,e){},sWs5:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b7e05a9b036bfdc442d4.js.map